<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
	<extension
			point="de.ovgu.featureide.core.composers">
		<composer
				class="de.ovgu.featureide.munge.MungePreprocessor"
				description="A purposely-simple preprocessor for Java files."
				id="de.ovgu.featureide.preprocessor.munge"
				name="Munge"
				nature="FeatureIDE_Core.mungeNature">
		</composer>
	</extension>
	<extension
			point="de.ovgu.featureide.fm.core.FMComposer">
		<fmComposer
				class="de.ovgu.featureide.munge.MungeFMComposerExtension"
				composer="de.ovgu.featureide.preprocessor.munge"
				id="de.ovgu.featureide.core.munge.fmcomposer"
				name="MungFMComposer">
		</fmComposer>
	</extension>
	<extension
			point="de.ovgu.featureide.core.wizard">
		<newProjectWizard
				class="de.ovgu.featureide.core.wizardextension.DefaultNewFeatureProjectWizardExtension"
				composerid="de.ovgu.featureide.preprocessor.munge"
				id="de.ovgu.featureide.core.munge.newProjectWizard"
				name="de.ovgu.featureide.preprocessor.munge">
		</newProjectWizard>
	</extension>
	<extension
			point="org.eclipse.ui.handlers">
		<handler
				class="de.ovgu.featureide.munge.ui.handlers.DocumentationHandler"
				commandId="de.ovgu.featureide.ui.mpl.commands.javadoc.product">
			<activeWhen>
      <reference
            definitionId="de.ovgu.featureide.core.munge.expressions.hasComposer">
      </reference>
			</activeWhen>
		</handler>
	</extension>
	<extension
			point="org.eclipse.core.expressions.definitions">
		<definition
				id="de.ovgu.featureide.core.munge.expressions.hasComposer">
			<with
					variable="activeMenuSelection">
				<iterate
						ifEmpty="false"
						operator="and">
					<test
							args="de.ovgu.featureide.preprocessor.munge"
							property="de.ovgu.featureide.fm.ui.properties.composer">
					</test>
				</iterate>
			</with>
		</definition>
	</extension>
</plugin>
